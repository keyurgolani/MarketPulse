<!DOCTYPE html>
<html>
<head>
    <title>Debug API Config</title>
</head>
<body>
    <h1>API Configuration Debug</h1>
    <div id="output"></div>
    
    <script type="module">
        // Check environment variables
        const viteApiBaseUrl = import.meta.env.VITE_API_BASE_URL;
        const mode = import.meta.env.MODE;
        const dev = import.meta.env.DEV;
        
        // Import and check API client
        import('./src/services/apiClient.js').then(module => {
            const { apiClient } = module;
            
            const output = document.getElementById('output');
            output.innerHTML = `
                <h2>Environment Variables:</h2>
                <p>VITE_API_BASE_URL: ${viteApiBaseUrl || 'undefined'}</p>
                <p>MODE: ${mode}</p>
                <p>DEV: ${dev}</p>
                
                <h2>API Client Config:</h2>
                <p>Base URL: ${apiClient.config?.baseURL || 'Not accessible'}</p>
                
                <h2>Test API Call:</h2>
                <button onclick="testApiCall()">Test /dashboards call</button>
                <div id="test-result"></div>
            `;
            
            window.testApiCall = async () => {
                const resultDiv = document.getElementById('test-result');
                try {
                    const response = await apiClient.get('/dashboards');
                    resultDiv.innerHTML = `<p style="color: green;">Success: ${JSON.stringify(response)}</p>`;
                } catch (error) {
                    resultDiv.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
                }
            };
        }).catch(error => {
            document.getElementById('output').innerHTML = `<p style="color: red;">Failed to load API client: ${error.message}</p>`;
        });
    </script>
</body>
</html>